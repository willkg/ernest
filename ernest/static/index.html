<!doctype html>
<html lang="en" ng-app="ernest">
<head>
  <meta charset="utf-8">
  <title>Ernest</title>
  <link rel="stylesheet" href="/static/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="/static/css/ernest.css"/>
</head>
<body>

  <div class="container">
    <div class="navbar">
      <div class="navbar-inner">
        <a class="brand" href="/">Ernest</a>

        <ul class="nav">
          <li class="pull-left"><a href="/projects">Projects</a></li>
        </ul>

        <ul class="nav pull-right" ng-controller="AuthCtrl">
          <li ng-show="loggedIn()">
            <span class="navbar-text">{{creds.login}}</span>
          </li>
          <li ng-show="loggedIn()">
            <a id="logout-link" href="#" ng-click="logout()">Logout</a>
          </li>

          <li ng-hide="loggedIn()">
            <ng-form class="navbar-form" ng-show="loggingIn">
              <input class="login-form" type="text" ng-model="creds.login" placeholder="Bugzilla login"/>
              <input class="login-form" type="password" ng-model="creds.password" placeholder="Bugzilla password"/>

              <button id="login-submit" class="btn login-form" ng-click="login()">
                Sign-in
              </button>
            </ng-form>

            <a id="login-link" href="#" ng-click="loggingIn = true" ng-hide="loggingIn">Sign-in</a>
          </li>
        </ul>
    </div>

    <div ng-controller="LoadingCtrl" class="loading" ng-class="{transparent: loading == 0}"></div>

    <div ng-view></div>

    <div id="footer">
      This is <a href="https://github.com/willkg/ernest">ernest</a>.
      Version <span app-version></span>
    </div>
  </div>

  <script src="/static/js/lib/jquery-2.0.3.min.js"></script>
  <script src="/static/js/lib/bootstrap.min.js"></script>
  <script src="/static/js/lib/angular.min.js"></script>
  <script src="/static/js/lib/angular-route.min.js"></script>
  <script src="/static/js/lib/angular-resource.min.js"></script>
  <script src="/static/js/lib/angular-cookies.min.js"></script>
  <script src="/static/js/lib/angular-local-storage.js"></script>

  <script src="/static/js/app.js"></script>
  <script src="/static/js/services.js"></script>
  <script src="/static/js/controllers.js"></script>
  <script src="/static/js/directives.js"></script>
</body>
</html>
